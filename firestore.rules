rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ü•¢ –ú–µ–Ω—é
    match /menu/{menuId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null &&
        request.auth.token.email == "admin@bla.com";
    }

    // üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
    match /categories/{categoryId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null &&
        request.auth.token.email == "admin@bla.com";
    }

    // üßæ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è
    match /orders/{orderId} {
      allow create: if true;
      allow read, update, delete: if request.auth != null &&
        request.auth.token.email in ["admin@bla.com", "kitchen@bla.com"];
    }

    // ‚öôÔ∏è –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
    match /adminPanel/{document=**} {
      allow read, write: if request.auth != null &&
        request.auth.token.email == "admin@bla.com";
    }

    // ‚ùå –í—Å–µ —ñ–Ω—à–µ ‚Äî –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
